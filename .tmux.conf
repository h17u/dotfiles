# tmux configuration
# http://mba-hack.blogspot.jp/2012/07/tmuxvi.html


# Prefix
set-option -g prefix C-q
# デフォルトのPrefix(C-b)を解除
unbind C-b

# Option
# utf8有効
set-window-option -g utf8 on
# コピー、選択モードのキーバインドvi/emacs
set-window-option -g mode-keys vi
# ウィンドウ等の番号基準値
set-option -g base-index 1
# バックスクロール行数
set-option -g history-limit 3000

# https://sites.google.com/site/hymd3a/linux/tmux
# ESCキーの遅延解除
set -sg escape-time 1

# auto rename
setw -g automatic-rename on

#set-option -g status-justify "centre"

#----------------------------------------
## Mouse Options for iTerm2
##----------------------------------------

# Enable mouse
setw -g mode-mouse on
setw -g mouse-select-pane
setw -g mouse-select-window

# KeyBindings
# 直前のウィンドウ
bind C-q last-window
bind C-n next-window
bind C-p previous-window

# 設定リロード
bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded!"
# ウィンドウ選択画面
bind C-w select-pane -t :.+
bind C-h select-pane -L
bind C-j select-pane -D
bind C-k select-pane -U
bind C-l select-pane -R
bind Space choose-window
# 新ウィンドウ作成
bind c new-window
# 分割していたペインそれぞれをWindowに
bind b break-pane
# ペインの縦分割
bind s split-window -v
# ペインの横分割
bind v split-window -h

# ペインリサイズ関連vi風
bind < resize-pane -L 6
bind > resize-pane -R 6
bind - resize-pane -D 6
bind + resize-pane -U 6

# ペイン終了
#bind k kill-pane
# ウィンドウ終了
#bind K kill-window
# ペイン番号表示
#bind i display-panes
# コピーモード突入
#bind y copy-mode
# ペースト
#bind p paste-buffer

# vでマーク開始
bind -t vi-copy v begin-selection
# yでヤンク
bind -t vi-copy y copy-selection

# ペインの移動1(Vim風にする)
bind C-h select-pane -L
bind C-j select-pane -D
bind C-k select-pane -U
bind C-l select-pane -R

# pbcopy
bind ^y run-shell 'tmux-pbcopy'


# http://succi.jp/blog/?p=562
# 256色端末を使用する
set-option -g default-terminal "screen-256color"
set -g default-terminal "screen-256color"

# クリップボードの共有
set-option -g default-command "/usr/local/bin/reattach-to-user-namespace -l $SHELL"
bind-key C-c run "tmux save-buffer - | /usr/local/bin/reattach-to-user-namespace pbcopy"
bind-key C-v run "/usr/local/bin/reattach-to-user-namespace pbpaste | tmux load-buffer - && tmux paste-buffer"


# powerline
#source '/Users/tommy/.vim/bundle/powerline/powerline/bindings/tmux/powerline.conf'

# Source color scheme
# https://github.com/seebi/tmux-colors-solarized
#source '/Users/tommy/.tmux/tmuxcolors-256.conf'
source '/Users/tommy/.tmux/tmuxcolors-dark.conf'
#source '/Users/tommy/.tmux/tmuxcolors-light.conf'

